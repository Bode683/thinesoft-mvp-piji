rest-api {
    listen {
        type = "rest"
        ipaddr = "0.0.0.0"
        port = 8080
    }
    
    log {
        file = "${logdir}/rest-api.log"
        level = "info"
    }
    
    security {
        allow_unsecure = yes
        require_https = no
    }
    
    endpoints {
        authorize {
            path = "/radius/rest/auth/authorize"
            method = "POST"
            auth_type = "none"
            
            request {
                format = "json"
                body = "${request:raw}"  # Utilise le corps de la requête brute
            }
            
            response {
                format = "json"
                body = "${reply:raw}"    # Utilise le corps de la réponse brute
            }
        }
        
        accounting {
            path = "/radius/rest/accounting"
            method = "POST"
            auth_type = "none"
            
            request {
                format = "json"
                body = "${request:raw}"
            }
            
            response {
                format = "json"
                body = "${reply:raw}"
            }
        }
    }
}
